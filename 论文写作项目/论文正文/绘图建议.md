## 全局绘图通用规范 (Global Design System)

所有图片（从图 1 到 图 7）必须遵循以下“宪法”，严禁混用风格。

#### 1. 配色系统 (Color Palette)

我们采用一套**“冷暖对比 + 语义警示”**的配色方案。请在绘图软件（Illustrator/Python/Visio）中预设这些色值。

| **语义 (Semantic)**   | **颜色名称** | **HEX 代码** | **RGB**       | **用途**                       |
| --------------------- | ------------ | ------------ | ------------- | ------------------------------ |
| **标准/执行 (Safe)**  | **科技蓝**   | `#0072BD`    | 0, 114, 189   | 执行环、正常切削、理论预测曲线 |
| **进化/重构 (Evo)**   | **活力橙**   | `#D95319`    | 217, 83, 25   | 进化环、重构策略、优化后曲线   |
| **物理/基础 (Base)**  | **深炭灰**   | `#4D4D4D`    | 77, 77, 77    | 机床轮廓、坐标轴、边框、文字   |
| **警示/瓶颈 (Alert)** | **信号红**   | `#A2142F`    | 162, 20, 47   | 阻抗过高区域、超限波形、误差   |
| **背景/辅助 (Aux)**   | **雾灰**     | `#F2F2F2`    | 242, 242, 242 | 模块背景块、表格底色 (非纯白)  |

#### 2. 线宽与字体规范 (Lines & Fonts)

针对 `elsarticle` 双栏排版（单栏宽 ~90mm，通栏宽 ~190mm）：

- **线宽 (Line Width)**:
  - **主流程/轮廓**：1.5 pt (醒目，用于箭头、框图边缘)。
  - **次级流程**：1.0 pt (标准)。
  - **网格/辅助线**：0.5 pt (纤细)。
- **字体 (Typography)**:
  - **英文标注**：Arial 或 Helvetica (无衬线体)。
  - **公式/变量**：Times New Roman (斜体，如 $F$, $a_p$, $P_{meas}$)，与正文 LaTeX 保持一致。
  - **字号**：
    - 主标签：9 pt - 10 pt。
    - 坐标轴/图例：8 pt。
    - 最小字号：7 pt (不可更小，否则印刷看不清)。
      

## 绘图指南

#### 图 1：总览框架 (System Framework)

190 mm (宽) x 90 mm (高)

我们将画布分为 **左翼 (Left Wing)**、**中轴 (Central Spine)**、**右翼 (Right Wing)**。

##### **【中轴区】 (Central Spine) —— 系统的“脊梁”**

- **底部正中 (Bottom-Center)**
  - **绘制内容**：一台 CNC 机床的线稿（或半透明写实图）。
  - **细节**：必须画出刀具接触工件的特写。
  - **标注**：`Physical Space` / `CNC Machine`。
- **顶部正中 (Top-Center)**
  - **绘制内容**：**PIT 表格 + SMIF 伪彩条带**。
  - **形象**：画一个竖长条的数据栈，上面有类似红蓝热力图的色块。
  - **标注**：`Cyber Space` / `PIT & SMIF Model`。
- **连接线**：
  - 从底部的机床引出一根虚线直指顶部的 SMIF。
  - **标注**：`Data/Knowledge Sedimentation` (数据沉淀)。

##### **【左翼区】 (Left Wing) —— 蓝色的“盾” (执行环)**

- **整体形态**：一个巨大的、逆时针流动的**蓝色 U 型箭头**。
- **起点 (Start)**：从底部机床的左侧发出。
  - **图标**：`Sensor` (传感器图标，类似波形)。
  - **数据流**：`Power P(t)`。
- **中继点 (Middle - 左侧中部)**：
  - **图标**：`Comparator` (一个圆圈中间有个Σ)。
  - **动作**：`P_meas vs P_safe`。
- **顶点 (Top - 左上角)**：
  - **图标**：`Controller` (方框，写着 PID/AFC)。
  - **位置**：与顶部的 SMIF 平齐，但不重合。
- **终点 (End)**：箭头流回底部机床。
  - **数据流**：`Override (OVR)`。
  - **标注**：`Execution Loop (ms-level)`。

##### **【右翼区】 (Right Wing) —— 橙色的“矛” (进化环)**

- **整体形态**：一个巨大的、顺时针流动的**橙色 U 型箭头**。
- **起点 (Start)**：从顶部的 SMIF 右侧发出（表示基于知识出发）。
  - **图标**：`Bottleneck ID` (一个放大镜，看着一段红色波形)。
- **中继点 (Middle - 右侧中部)**：
  - **图标**：`Re-planner` (决策菱形)。
  - **分支**：画两个小示意图 ——
    - Option A: `Layering` (切两刀)。
    - Option B: `Pocketing` (画螺旋线)。
- **终点 (End)**：箭头流向底部的机床（指向“下一层”）。
  - **数据流**：`New NC Code` (G-code 文件图标)。
  - **标注**：`Evolutionary Loop (Layer-level)`。

##### 视觉逻辑图示 (Visual Logic Map)

您可以直接把下面这个结构图发给绘图人员（或自己参考）：

Plaintext

```
       [ 左翼：蓝色执行环 ]            [ 中轴：数据脊梁 ]             [ 右翼：橙色进化环 ]
   -----------------------------------------------------------------------------------
   (Cyber Layer)
         [PID Controller]  <--------   [ PIT / SMIF ]   -------->  [ Bottleneck ID ]
              |                        (伪彩数据条)                      |
              |                             ^                            v
              |                             |                     [ Strategy A/B ]
              v                             |                            |
       (Override Cmd)                       |                     (New G-Code)
              |                             |                            |
              |                        (Data Update)                     |
              v                             |                            v
   -----------------------------------------------------------------------------------
   (Physical Layer)
       [   Sensor   ]  <----------- [ CNC Machine ]  <---------- [ Stock Model ]
```

#### 图 2：行程域离散化与 PIT 表 (Discretization & PIT)

190 mm (宽) x 70 mm (高)

- **目标**：对比“混乱的时域”与“整齐的空间域”。
- **布局**：左右结构。
- **左侧 (Time Domain Issue)**：
  - 画一条正弦波形的路径（模拟刀路）。
  - 在路径上画很多密密麻麻的黑点（采样点），故意画得有些重叠、不均匀。
  - **标注**：`Time-based Sampling (Redundant & Misaligned)`。
- **右侧 (Stroke Domain Solution)**：
  - 画同样的路径，但用垂直线段将其切分成整齐的几段（Segment 1, 2, 3）。
  - 每段对应引出一个表格行（PIT Table Row）。
  - **PIT 表格内容**：表头写 `Geo ($a_p, a_e$)`, `Phy ($K_c$)`, `Cmd ($F$)`。
  - **颜色**：表格底色用淡蓝或淡灰，表头深灰。
- **箭头**：从左侧指向右侧，写上 `Spatial Alignment`。



#### 图 3：SMIF 可视化 (The Core Figure)

总画幅尺寸: 190 mm (宽) × 115 mm (高)

**布局划分**:

- **上层区域 (Zone A)**: 190 mm (宽) × **60 mm** (高)。用于放置 **Fig. 3(a)**。
- **间距 (Gutter)**: 上下层之间保留 **5 mm** 空隙；左右子图之间保留 **5-8 mm** 空隙。
- **下层区域 (Zone B & C)**:
  - **左下 (Fig. 3b)**: **90 mm** (宽) × **50 mm** (高)。
  - **右下 (Fig. 3c)**: **90 mm** (宽) × **50 mm** (高)。

2. 详细绘制指南 (Detailed Construction)

#### **Figure 3(a): 空间加工阻抗场映射 (Spatial Machining Impedance Field Mapping)**

> 位置：顶部通栏
>
> **核心任务**：利用宽幅优势，展示“物理几何”到“阻抗场”的映射关系 1111。

- **视觉主体 (The Part)**:

  - 在画面左侧到中间，绘制一个**深炭灰 (#4D4D4D)** 的复杂 3D 航空结构件（如带有薄壁和型腔的框梁结构）。
  - **线框感**：可以用极细的浅灰线 (0.25 pt) 勾勒网格，体现数字化特征。

- **SMIF 条带 (The Field)**:

  - 沿着工件的一条主要刀轨，画一条**有厚度的管状路径**（类似贪吃蛇）。

  - **伪彩映射**：管子的颜色代表阻抗 $Z(x)$。

    - **平稳段**：填充 **科技蓝 (#0072BD)**，代表切削平稳。

    - 

      **突变段**：在转角或高余量处，颜色平滑过渡到 **信号红 (#A2142F)**，代表高阻抗 222。

- **信息增强 (利用宽幅)**:

  - 由于是通栏，您可以在画面右侧留出空间，画一个放大的 **“阻抗单元 (Impedance Unit)”** 示意图。
  - 画一个小的立方体切削单元，标注公式符号：$F_c$ (切削力), $h_{eq}$ (等效切厚), $K_{sc}$ (比能) 3333。
  - 用箭头从 3D 路径指向这个单元，说明 SMIF 是由这些单元沿路径积分而成的。

#### **Figure 3(b): 模型演化与 Sim-to-Real Gap (Evolution & Gap)**

> 位置：左下角 (单栏宽)
>
> **核心任务**：量化展示“双循环”如何消除仿真与现实的偏差 444444444。

- **坐标轴**:
  - X 轴：`Stroke Position (mm)` (使用行程域，而非时间) 5555。
  - Y 轴：`Machining Force / Power`。
- **曲线绘制**:
  - **虚线 (灰色)**: `Static Model` (静态预测)。画得比较平直，无法预测波动。
  - **实线 (蓝色)**: `Real Measurement` (实测值)。画出真实的噪声和波动，特别是在某处画一个**尖峰**。
    - *标注*: `Sim-to-Real Gap`，并用阴影填充虚线和实线之间的区域。
  - **实线 (橙色)**: `Evolved Model` (进化后)。这条线应该紧贴着蓝色实线（实测值），表明数字孪生已经“学会”了真实的物理状态 6666。
- **文字**: 在橙色曲线旁加注 `After Self-Evolution`。

#### **Figure 3(c): 瓶颈识别与阈值截断 (Bottleneck ID)**

> 位置：右下角 (单栏宽)
>
> **核心任务**：展示如何从复杂的波形中提取出需要重构的“瓶颈区” 7。

- **坐标轴**:
  - X 轴：同左图，`Stroke Position (mm)`。
  - Y 轴：`Impedance / Load`。
- **关键元素**:
  - **阈值线**: 画一条水平的红色虚线，标注 `Safety Threshold ($P_{safe}$)` 8。
  - **波形**: 画一条波动的曲线（基于左图的橙色线）。
  - **瓶颈区 (Bottleneck)**: 当波形**超过**阈值线的部分，用 **信号红 (#A2142F)** 的斜线阴影进行填充 9。
  - **标注**: 引出箭头指向红色区域，写上 `Global Bottleneck Zone`。
  - **输出**: 在图的右侧或下方，画一个指向图外的箭头，标注 `To Evolutionary Loop (Re-planner)`，暗示这是触发图 1 右翼进化的信号 10。

#### 图 4：控制逻辑框图 (Control Block Diagram)

90 mm (宽) x 85 mm (高)

- **布局**：上下结构。
- **上半部 (RT-AFC / Blue)**：
  - 标准的控制回路：$P_{ref}$ (+) -> $\Sigma$ -> [Controller $C(z)$] -> [Plant $G(s)$] -> $P_{meas}$ (-)。
  - 线条颜色：**科技蓝**。
- **下半部 (Evolution / Orange)**：
  - 从 $P_{meas}$ 引出一行线向下。
  - 模块顺序：[Impedance Observer] -> [SMIF Database] -> [Optimization Algorithm]。
  - 输出：箭头指回上半部的 $P_{ref}$ 或 $F_{cmd}$。
  - 线条颜色：**活力橙**。



#### 图 5：拓扑重构策略 (Restructuring Strategies)

90 mm (宽) x 60 mm (高)

- **场景**：画一个工件的侧截面，中间有个红色的“硬核”或“高余量区”。
- **策略 A (Global Layering)**：
  - 画两层浅色的切削层，叠在一起。
  - **隐喻**：既然切不动，就分两刀切。
  - **标注**：`Strategy A: Global Layering (Reduce $a_p$)`。
- **策略 B (Local Pocketing)**：
  - 画一个螺旋形的刀路，只在这个红色区域转圈圈，其他地方走直线。
  - **隐喻**：像挖冰淇淋一样把硬点挖掉。
  - **标注**：`Strategy B: Local Pocketing (Sub-path Gen)`。



#### 图 6：实验平台 (Experimental Setup)

90 mm (宽) x 65 mm (高)

- **底图**：您实验室机床的真实照片（处理成黑白或降低饱和度，显得专业）。
- **覆盖层 (Overlay)**：
  - 用**深灰色框**标出：`CNC Controller (Fanuc/Siemens)`。
  - 用**蓝色框**标出：`Power Sensor` (在电柜里)。
  - 用**橙色框**标出：`Edge Computer` (运行数字孪生的电脑)。
- **连接线**：画出信号流（Ethernet / Analog IO）。



#### 图 7：验证结果 (Validation Results)

190 mm (宽) x 60 mm (高)

- **子图 (a) 进化过程**：
  - X轴：Layer Index (1, 2, 3...)。
  - Y轴：Prediction Error (%)。
  - 曲线：一条下降的曲线，最终趋近于 0。
- **子图 (b) 效率对比 (柱状图)**：
  - 三根柱子：
    1. `Conservative` (灰，很低)。
    2. `Reactive AFC` (蓝，中等)。
    3. `Self-Evolution DT` (橙，最高)。
  - **标注**：在橙色柱子上写 `+35% Efficiency`。